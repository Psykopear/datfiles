#!/bin/sh

# X related config...
xrdb .Xresources

# Touchpad, set natural scrolling and tap to click
xinput --set-prop 'SYNA2393:00 06CB:7A13 Touchpad' "libinput Tapping Enabled" 1
xinput --set-prop 'SYNA2393:00 06CB:7A13 Touchpad' "libinput Natural Scrolling Enabled" 1
# xinput --set-prop 11 275 1
# xinput --set-prop 11 285 1

# Libinput gestures
libinput-gestures-setup start

# Keyboard layout
setxkbmap \
  -layout us,it \
  -option ctrl:nocaps \
  -option grp:alt_space_toggle \
  -option shift:both_capslock_cancel \
  -option compose:ralt \
  -option terminate:ctrl_alt_bksp &

# Startup programs...
libinput-gestures &
xedgewarp -b &
redshift -l geoclue2 &
compton &
mons -a & # Disable other displays if only one monitor

# Tray area stuff
nm-applet &
arandr-indicator &
xfce4-power-manager &
pasystray &
comptray &

export QT_STYLE_OVERRIDE=gtk
export QT_QPA_PLATFORMTHEME=gtk2


# Set background, .fehbg is a script generated by feh on background change
# so I just need to call it to always have the last background set
~/.fehbg &
# Otherwise use an hardcoded picture in this way
# feh --bg-fill /home/docler/Pictures/Wallpapers/Fire.png &

# Keys bindings, DE/WM agnostic
sxhkd &

# Hack to make gtk apps startup time human
dbus-update-activation-environment --systemd DBUS_SESSION_BUS_ADDRESS DISPLAY XAUTHORITY &

xrandr --setprovideroutputsource modesettings NVIDIA-0
xrandr --auto
xrandr --dpi 96
xrandr --output eDP-1-1 --primary
# Start WM!
exec i3
#exec 2bwm
